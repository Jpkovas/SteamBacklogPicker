# Recent Changes

- Queried installed app IDs directly from the Steamworks app list API, falling back to VDF parsing only when the native handle is unavailable.
- Added disposal guards to the Steam client adapter to prevent reuse after cleanup and ensure initialization state resets correctly.
- Updated the README to highlight the unified Steam/Epic flow, offline hero art cache, and the current telemetry/privacy story.
- Added an Epic hero art cache that downloads catalog key images into AppData, plumbs it through metadata fetchers/locators, and adds offline tests to prove cached artwork resolves without network access.
- Buffered the Epic discovery stub HTTP handler so GraphQL tests can inspect payloads without hitting disposed content exceptions.
- Added offline Epic discovery regression tests covering the GraphQL client, metadata fetcher, and authentication token cache using stubbed HTTP handlers and local token fixtures.
- Expanded the Epic catalog table whitelist with a regex that covers OfflineOffers/pluralized names, plus SQLite fixtures/tests documenting the naming convention.
- Removed the deprecated `Services.Environment` namespace so runtime helpers no longer collide with `System.Environment` and the UI build succeeds again.
- Localized the GameLaunchService error messages via the shared localization service, threading DI updates plus bilingual unit tests to keep GameDetails launch/install errors accurate.
- Removed completed TODO entries for the Epic catalog SQLite builder and nested JSON regression fixtures so the backlog only tracks outstanding Epic discovery work.
- Consolidated the change history into this single file and removed the redundant QUICK_CHANGES.md summary.
- Added Epic entitlement-backed discovery with GraphQL metadata hydration so Epic libraries and artwork stay complete even when launcher caches are empty.
- Expanded the Epic catalog parser with nested/wrapped JSON fixtures so cache loading handles alternative tag/date/size formats.
- Stopped emitting Epic catalog entries when elements lack both a catalog item ID and app name, preventing namespace wrappers from appearing as placeholder games.
- Tightened Epic catalog entry validation so nested containers no longer emit placeholder entries without identifiers.
- Corrected the Epic catalog SQLite test fixture to stop double-prefixing store-specific IDs so cache tests align with production parsing.
- Fixed the Epic catalog SQLite builder by making its row record internal so `CatalogItemBuilder.Build` can emit rows without accessibility errors.
- Replaced the Epic catalog SQLite fixture blob with a reusable builder that materializes the test database via Microsoft.Data.Sqlite.
- Corrected the Epic catalog SQLite builder to double-quote table names and serialize key images as a parseable array.
- Added an in-app launch service with Epic protocol support and updated viewmodels/tests to respect Epic install criteria.
- Fixed the Epic launch service constructor to avoid nullable method group usage and restore the UI build.
- Updated the Epic catalog SQLite fixture to store offer key image metadata so hero art parsing covers Rocket League.
- Added Epic key image parsing plus a composite art locator that surfaces Epic and Steam hero art selections in the UI.
- Bundled the Microsoft.Data.Sqlite native provider so Epic catalog caches load SQLite fixtures in tests.
- Fixed Epic catalog parsing to read camelCase fields and updated cache tests to validate namespaced identifiers.
- Added Epic discovery unit tests with local fixtures, refreshed multi-store selection coverage, and documented Epic cache requirements and offline guarantees.
- Added a combined Steam/Epic library flow with storefront filters, UI indicators, and updated tests covering the new providers.
- Reverted the repository to match the codex/add-language-selection-buttons branch, removing backlog metadata and compatibility capability updates added afterwards.
- Introduced storefront-aware `GameIdentifier` support across the domain, selection engine, and Steam services, including updated tests for multi-store scenarios.
- Ensured `GameIdentifier` overrides remain compatible with sealed records to fix the CI build regression introduced by the legacy compatibility shim.
- Introduced Epic discovery infrastructure (locator, manifest/catalog caches, and DI wiring) to surface Epic Games Store entries alongside Steam data.
- Restored Epic discovery logging dependencies and public catalog models so the build succeeds after locking disposal paths.
- Expanded the Epic catalog SQLite parser to include offer tables, restoring Rocket League entries in cache lookups.
- Fixed Epic entitlement cache deserialization and aligned Epic art locator tests with the metadata cache API to restore the build.
- Removed stray Steam art debug transcripts (`debug_steam_art.txt`, `output.txt`) and ignored them to keep the repository free of local log noise.
- Reorganized the UI service layer into feature-focused namespaces (GameArt, Library, Launch, etc.) and updated DI/tests to make the service surface easier to navigate.
- Restored the toast notification service's localization dependency so UI builds pick up localized strings without compile errors.
- Fully qualified runtime environment calls and modernized Epic slug escaping so the UI layer builds cleanly on Windows agents again.
